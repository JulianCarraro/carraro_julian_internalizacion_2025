<ion-content [fullscreen]="true" class="login-content">
  <div class="background-pattern"></div>

  <div class="language-flag" (click)="mapVisible = true">
    <img [src]="'assets/flags/' + currentLang + '.svg'" [alt]="currentLang" />
  </div>

  <div *ngIf="isLoading" class="div-spinner">
    <ion-spinner name="circular" class="spinner-login"></ion-spinner>
  </div>

  <div class="mapa-modal" *ngIf="mapVisible">
    <div class="modal-backdrop" (click)="mapVisible = false"></div>
    <div class="modal-content">
      <app-mapaidioma
        (idiomaSeleccionado)="cambiarIdioma($event)"
        (cerrar)="mapVisible = false">
      </app-mapaidioma>
    </div>
  </div>

  <div class="login-container" *ngIf="screen == 'signin'">
    <div class="card-container">
      <div class="encabezado">
        <div class="header">
          <div class="logo-wrapper">
            <img src="assets/logoApp.png" alt="MenÃº Go Logo" />
          </div>
          <h1 class="titulo">{{ textos[currentLang].titulo }}</h1>
          <p class="subtitulo">{{ textos[currentLang].subtitulo }}</p>
        </div>
      </div>

      <form [formGroup]="formData" class="formulario">
        <ion-item lines="none" class="item-formulario">
          <ion-label position="stacked" class="etiqueta">{{ textos[currentLang].correo }}</ion-label>
          <ion-input formControlName="email" type="email" class="input-login"
            [placeholder]="textos[currentLang].placeholders.email"></ion-input>
        </ion-item>

        <ion-item lines="none" class="item-formulario">
          <ion-label position="stacked" class="etiqueta">{{ textos[currentLang].contrasena }}</ion-label>
          <ion-input formControlName="password" type="password" class="input-login" 
          [placeholder]="textos[currentLang].placeholders.password"></ion-input>
        </ion-item>

        <ion-button class="boton-login" (click)="login()" expand="block">
          <ion-icon name="lock-open" slot="start"></ion-icon>
          {{ textos[currentLang].acceder }}
        </ion-button>
        <app-button-provider [isLogin]="true" (googleLogin)="loginWithGoogle()"></app-button-provider>

        <div *ngIf="errorLogin" class="error-message">
          <ion-icon name="warning" class="icon-error"></ion-icon>
          <ion-label>{{ textos[currentLang].errors[errorCode] }}</ion-label>
        </div>
        <div class="acceso-rapido">
          <p class="acceso-rapido-titulo">{{ textos[currentLang].accesoRapido }}</p>
          <div class="botones-acceso-rapido">
            <ion-button fill="outline" size="small" *ngFor="let user of usuariosEjemplo"
              (click)="rellenarCredenciales(user)">
              {{ user.nombre[currentLang] }}
            </ion-button>
          </div>
        </div>
      </form>

    </div>
  </div>
</ion-content>